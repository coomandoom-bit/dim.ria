<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—Å–∏–ª–∞–Ω—å</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --bg: #0f172a;
      --card: #1e293b;
      --accent: #06b6d4;
      --accent-hover: #0891b2;
      --text: #e2e8f0;
      --text-light: #94a3b8;
      --success: #10b981;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      overflow: hidden;
      position: relative;
    }

    /* –ê–Ω—ñ–º–æ–≤–∞–Ω—ñ –º–∞—à–∏–Ω–∫–∏ –Ω–∞ —Ñ–æ–Ω—ñ */
    .car-bg {
      position: absolute;
      font-size: 2.5rem;
      color: rgba(6, 182, 212, 0.15);
      animation: drive linear infinite;
      pointer-events: none;
      z-index: 0;
    }
    .car1 { top: 15%; left: -10%; animation-duration: 18s; }
    .car2 { top: 45%; right: -10%; animation-duration: 22s; animation-direction: reverse; }
    .car3 { bottom: 20%; left: -10%; animation-duration: 15s; }
    .car4 { top: 70%; right: -10%; animation-duration: 20s; animation-direction: reverse; }

    @keyframes drive {
      from { transform: translateX(-150px); }
      to { transform: translateX(calc(100vw + 150px)); }
    }

    .container {
      background: var(--card);
      padding: 32px;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 30px rgba(6, 182, 212, 0.2);
      width: 100%;
      max-width: 420px;
      text-align: center;
      position: relative;
      z-index: 1;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(6, 182, 212, 0.3);
    }

    h1 {
      margin: 0 0 24px;
      color: var(--accent);
      font-family: 'Montserrat', sans-serif;
      font-size: 1.8rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }
    h1 i { font-size: 2rem; }

    .input-group {
      margin-bottom: 16px;
      text-align: left;
    }
    label {
      display: block;
      margin-bottom: 6px;
      color: var(--text-light);
      font-size: 0.9rem;
      font-weight: 500;
    }
    select, input {
      width: 100%;
      padding: 14px 16px;
      border: 1px solid rgba(6, 182, 212, 0.5);
      border-radius: 12px;
      background: rgba(15, 23, 42, 0.6);
      color: #fff;
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    select:focus, input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(6, 182, 212, 0.2);
      background: rgba(15, 23, 42, 0.8);
    }
    option { background: #1e293b; color: #fff; }

    button {
      width: 100%;
      padding: 14px;
      background: var(--accent);
      color: #000;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1.1rem;
      cursor: pointer;
      margin-top: 8px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    button:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(6, 182, 212, 0.3);
    }
    button i { font-size: 1.2rem; }

    .link-output {
      margin-top: 24px;
      padding: 16px;
      background: rgba(16, 185, 129, 0.15);
      border: 1px solid var(--success);
      border-radius: 12px;
      word-break: break-all;
      font-family: 'Courier New', monospace;
      color: #86efac;
      font-size: 0.95rem;
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.4s ease;
    }
    .link-output.show {
      opacity: 1;
      transform: translateY(0);
    }
    .link-output i {
      color: var(--success);
      margin-right: 8px;
    }

    .hidden { display: none; }

    /* –õ–æ–≥—ñ–Ω */
    #loginForm h1 { font-size: 1.6rem; }
    #loginForm input { margin-bottom: 16px; }
  </style>
</head>
<body>

  <!-- –ê–Ω—ñ–º–æ–≤–∞–Ω—ñ –º–∞—à–∏–Ω–∫–∏ -->
  <div class="car-bg car1"><i class="fas fa-car-side"></i></div>
  <div class="car-bg car2"><i class="fas fa-truck"></i></div>
  <div class="car-bg car3"><i class="fas fa-shuttle-van"></i></div>
  <div class="car-bg car4"><i class="fas fa-taxi"></i></div>

  <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥—É -->
  <div id="loginForm" class="container">
    <h1><i class="fas fa-key"></i> –í—Ö—ñ–¥ —É –ø–∞–Ω–µ–ª—å</h1>
    <input type="password" id="password" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å" />
    <button onclick="checkPassword()"><i class="fas fa-sign-in-alt"></i> –£–≤—ñ–π—Ç–∏</button>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å -->
  <div id="panel" class="container hidden">
    <h1><i class="fas fa-link"></i> –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—Å–∏–ª–∞–Ω—å</h1>
    
    <div class="input-group">
      <label for="project"><i class="fas fa-project-diagram"></i> –ü—Ä–æ–µ–∫—Ç</label>
      <select id="project">
        <option value="dimria">DIM.RIA</option>
        <option value="autoria">AUTO.RIA</option>
        <option value="ria">RIA.COM</option>
        <option value="olx">OLX.UA</option>
      </select>
    </div>

    <div class="input-group">
      <label for="nickname"><i class="fab fa-telegram-plane"></i> @username –≤–æ—Ä–∫–µ—Ä–∞</label>
      <input type="text" id="nickname" placeholder="@username" />
    </div>

    <button onclick="generateLink()"><i class="fas fa-magic"></i> –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è</button>

    <div id="linkOutput" class="link-output">
      <i class="fas fa-check-circle"></i> <span id="linkText"></span>
    </div>
  </div>

  <script>
    const correctPassword = "1918";

    function checkPassword() {
      const input = document.getElementById("password").value;
      if (input === correctPassword) {
        document.getElementById("loginForm").classList.add("hidden");
        document.getElementById("panel").classList.remove("hidden");
        document.getElementById("password").value = "";
      } else {
        alert("üö´ –ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å!");
      }
    }

    function generateLink() {
      const project = document.getElementById("project").value;
      const nickInput = document.getElementById("nickname").value.trim();
      const nick = nickInput.replace(/^@/, '');
      
      if (!nick) {
        alert("‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å @username –≤–æ—Ä–∫–µ—Ä–∞!");
        return;
      }

      const base = window.location.origin;
      const refLink = `${base}/?project=${project}&ref=${btoa(encodeURIComponent(nick))}`;

      const output = document.getElementById("linkText");
      const container = document.getElementById("linkOutput");
      
      output.textContent = refLink;
      container.classList.add("show");
      
      // –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤ –±—É—Ñ–µ—Ä (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
      navigator.clipboard.writeText(refLink);
      setTimeout(() => {
        container.innerHTML = `<i class="fas fa-check-circle"></i> –ü–æ—Å–∏–ª–∞–Ω–Ω—è —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä!`;
        setTimeout(() => {
          container.classList.remove("show");
          setTimeout(() => {
            container.innerHTML = `<i class="fas fa-check-circle"></i> <span id="linkText"></span>`;
          }, 400);
        }, 2000);
      }, 1500);
    }

    // –î–æ–∑–≤–æ–ª—è—î Enter —É –ø–æ–ª—è—Ö
    document.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        if (!document.getElementById("panel").classList.contains("hidden")) {
          generateLink();
        } else {
          checkPassword();
        }
      }
    });
  </script>
</body>
</html>
